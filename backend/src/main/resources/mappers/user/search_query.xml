<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.web.editor.model.mapper.user.SearchMapper">
	<!-- <select id="searchAll" resultType="Portfolio" parameterType="Map">
		select * from portfolio
		<where>
			<if test="nickname != null and nickname != ''">
				and nickname like concat('%', #{nickname}, '%')
			</if>
			<if test="payMin != null and payMin != ''">
				and payMin like concat('%', #{payMin}, '%')
			</if>
		</where>
		limit #{currentPage}, #{sizePerPage}
	</select> -->
	
	<select id="searchAll" resultType="PortfolioList">
		select `uid`, `nickname`, `pay_min` as payMin
		FROM portfolio
	</select>


	<select id="search" resultType="Portfolio" parameterType="Integer">
		select * from portfolio where uid = #{uid}
		
	</select>
	
	<select id="getTotalCount" resultType="Integer" parameterType="Map">
		select count(uid) from portfolio
		<where>
			<if test="nickname != null and nickname != ''">
				and nickname like concat('%', #{nickname}, '%')
			</if>
			<if test="payMin != null and payMin != ''">
				and payMin like concat('%', #{payMin}, '%')
			</if>
		</where>
	</select>

	<!-- 추천 시스템 -->
	<!-- <select id="recommendSearch" resultType="PortfolioList">
		select video_type from request_form
		into outfile 'recommend.csv'
		character set euckr
		fields terminated by ',' optionally enclosed by '""'
		escaped by '\\'
		lines terminated by '\n'
	</select> -->

	<select id="searchRecommend" resultType="PortfolioList">
		select * from request_form
	</select>

</mapper>
